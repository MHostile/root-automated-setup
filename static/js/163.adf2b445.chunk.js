"use strict";(self.webpackChunkroot_automated_setup=self.webpackChunkroot_automated_setup||[]).push([[163],{293:function(e,n,t){t.r(n),t.d(n,{App:function(){return ca},default:function(){return da}});for(var a=t(434),r="header_container__HZLDB",o="header_logo__zVSNC",l="header_subtitle__D1X2k",i=t.p+"static/media/logo.970baaae9cfe70296fe9.png",s=t(498),c=t(184),d=function(){var e=(0,s.$)().t;return(0,c.jsxs)("header",{className:r,children:[(0,c.jsx)("img",{src:i,alt:e("label.logoAlt"),className:o}),(0,c.jsx)("div",{className:l,children:e("label.logoText")})]})},u=t(885),p=t(258),m=t(916),g=t(413),f=JSON.parse('{"root":{"base":true,"image":"boxes/root.png","decks":{"standard":{"image":"cards/standard.png"}},"factions":{"marquise":{"key":"marquise","image":"meeples/marquise.png","militant":true,"isVagabond":false,"warriors":25,"buildings":18,"tokens":9},"eyrie":{"key":"eyrie","image":"meeples/eyrie.png","militant":true,"isVagabond":false,"warriors":20,"buildings":7,"tokens":0},"alliance":{"key":"alliance","image":"meeples/alliance.png","militant":false,"isVagabond":false,"warriors":10,"buildings":3,"tokens":10},"vagabond":{"key":"vagabond","image":"meeples/thief.png","militant":false,"isVagabond":true,"warriors":1,"buildings":0,"tokens":0}},"maps":{"autumn":{"printedSuits":true,"landmark":"","image":"maps/autumn.png"},"winter":{"printedSuits":false,"landmark":"","image":"maps/winter.png"}},"vagabonds":{"thief":{"startingItems":["boot","torch","tea","sword"],"image":"meeples/thief.png"},"tinker":{"startingItems":["boot","torch","bag","hammer"],"image":"meeples/tinker.png"},"ranger":{"startingItems":["boot","torch","crossbow","sword"],"image":"meeples/ranger.png"}}},"riverfolk":{"base":false,"image":"boxes/riverfolk.png","factions":{"cult":{"key":"cult","image":"meeples/cult.png","militant":false,"isVagabond":false,"warriors":25,"buildings":15,"tokens":0},"riverfolk":{"key":"riverfolk","image":"meeples/riverfolk.png","militant":false,"isVagabond":false,"warriors":15,"buildings":0,"tokens":9},"vagabond2":{"key":"vagabond","image":"meeples/ronin.png","militant":false,"isVagabond":true,"warriors":1,"buildings":0,"tokens":0}},"vagabonds":{"vagrant":{"startingItems":["coin","torch","boot"],"image":"meeples/vagrant.png"},"arbiter":{"startingItems":["boot","torch","sword","sword"],"image":"meeples/arbiter.png"},"scoundrel":{"startingItems":["boot","boot","torch","crossbow"],"image":"meeples/scoundrel.png"}}},"underworld":{"base":false,"image":"boxes/underworld.png","factions":{"duchy":{"key":"duchy","image":"meeples/duchy.png","militant":true,"isVagabond":false,"warriors":20,"buildings":6,"tokens":3},"corvid":{"key":"corvid","image":"meeples/corvid.png","militant":false,"isVagabond":false,"warriors":15,"buildings":0,"tokens":8}},"landmarks":{"tower":{"image":"landmarks/tower.png","minPlayers":0},"ferry":{"image":"landmarks/ferry.png","minPlayers":0}},"maps":{"lake":{"printedSuits":false,"landmark":"ferry","image":"maps/lake.png"},"mountain":{"printedSuits":false,"landmark":"tower","image":"maps/mountain.png"}}},"marauder":{"base":false,"image":"boxes/marauder.png","factions":{"warlord":{"key":"warlord","image":"meeples/warlord.png","militant":true,"isVagabond":false,"warriors":21,"buildings":6,"tokens":5},"keepers":{"key":"keepers","image":"meeples/keepers.png","militant":true,"isVagabond":false,"warriors":15,"buildings":3,"tokens":12}},"hirelings":{"patrol":{"image":"meeples/patrol.png","factions":["marquise"],"warriors":12,"components":0,"componentName":""},"dynasty":{"image":"meeples/dynasty.png","factions":["eyrie"],"warriors":5,"components":0,"componentName":""},"uprising":{"image":"meeples/uprising.png","factions":["alliance"],"warriors":4,"components":1,"componentName":"component.uprisingDie"},"exile":{"image":"meeples/exile.png","factions":["vagabond","vagabond2"],"warriors":1,"components":3,"componentName":"component.clubItem"}}},"exilesDeck":{"base":false,"image":"boxes/exilesDeck.png","decks":{"exiles":{"image":"cards/exiles.png"}}},"landmarkPack":{"base":false,"image":"boxes/landmarkPack.png","landmarks":{"treetop":{"image":"landmarks/treetop.png","minPlayers":3},"city":{"image":"landmarks/city.png","minPlayers":0},"market":{"image":"landmarks/market.png","minPlayers":0},"forge":{"image":"landmarks/forge.png","minPlayers":0}}},"vagabondPack":{"base":false,"image":"boxes/vagabondPack.png","vagabonds":{"adventurer":{"startingItems":["boot","torch","hammer"],"image":"meeples/adventurer.png"},"ronin":{"startingItems":["boot","boot","torch","sword"],"image":"meeples/ronin.png"},"harrier":{"startingItems":["coin","torch","sword","crossbow"],"image":"meeples/harrier.png"}}},"riverfolkHirelings":{"base":false,"image":"boxes/riverfolkHirelings.png","hirelings":{"prophets":{"image":"meeples/prophets.png","factions":["cult"],"warriors":4,"components":0,"componentName":""},"flotilla":{"image":"meeples/flotilla.png","factions":["riverfolk"],"warriors":1,"components":0,"componentName":""},"bandits":{"image":"meeples/bandits.png","factions":[],"warriors":4,"components":0,"componentName":""}}},"underworldHirelings":{"base":false,"image":"boxes/underworldHirelings.png","hirelings":{"expedition":{"image":"meeples/expedition.png","factions":["duchy"],"warriors":8,"components":3,"componentName":"component.footholdToken"},"spies":{"image":"meeples/spies.png","factions":["corvid"],"warriors":6,"components":0,"componentName":""},"protector":{"image":"meeples/protector.png","factions":[],"warriors":1,"components":0,"componentName":""}}},"marauderHirelings":{"base":false,"image":"boxes/marauderHirelings.png","hirelings":{"flamebearers":{"image":"meeples/flamebearers.png","factions":["warlord"],"warriors":6,"components":0,"componentName":""},"vaultkeepers":{"image":"meeples/vaultkeepers.png","factions":["keepers"],"warriors":6,"components":6,"componentName":"component.vaultBuilding"},"band":{"image":"meeples/band.png","factions":[],"warriors":5,"components":0,"componentName":""}}}}'),b=function(e){return f[e]},v=function(e,n){try{localStorage.setItem(e,n?"1":"0")}catch(t){console.warn("Failed to persist enable state of ".concat(n," for expansion ").concat(e),t)}},h=function(e,n){if(n)return!0;var t,a=localStorage.getItem(e);return null!=a?t="1"===a:v(e,t=!1),t},x=function(e){return(0,m.P1)(e,(function(e){for(var n=[],t=0,a=Object.entries(e);t<a.length;t++){var r=(0,u.Z)(a[t],2),o=r[0],l=r[1];n.push((0,g.Z)((0,g.Z)({},l),{},{code:o}))}return n}))},k=function(e){for(var n={},t=0,a=Object.entries(f);t<a.length;t++){var r=(0,u.Z)(a[t],2),o=r[0],l=r[1];h(o,l.base)&&e(n,o,l)}return n},y={prepare:function(e,n){return{payload:{code:e,enabled:n}}},reducer:function(e,n){var t,a=e[n.payload.code];null!=a?a.enabled=null!==(t=n.payload.enabled)&&void 0!==t?t:!a.enabled:console.warn("Invalid payload for toggleComponent action: Payload code not found in component state",n)}},w=function(e,n,t){return function(a,r){e(r()).forEach((function(e,r,o){var l="function"===typeof n?n(e,r,o):n;e.enabled!==l&&a(t(e.code,l))}))}},_=function(e){var n=Math.floor(Math.random()*e.length),t=e[n];return e.splice(n,1),t},j={},C=0,S=Object.entries(f);C<S.length;C++){var O=(0,u.Z)(S[C],2),P=O[0],L=O[1];j[P]={base:L.base,image:""===L.image?void 0:L.image,enabled:h(P,L.base)}}var F,I=function(e,n,t){var a=e[n];null==a||a.base||(a.enabled=t,v(n,a.enabled))},M=x((function(e){return e.expansion})),N=(0,p.oM)({name:"expansion",initialState:j,reducers:{enableExpansion:function(e,n){return I(e,n.payload,!0)},disableExpansion:function(e,n){return I(e,n.payload,!1)}}}),U=N.actions,E=U.enableExpansion,H=U.disableExpansion,Z=N.reducer,V=function(e,n){e.addCase(E,(function(e,t){return n(e,t.payload)})).addCase(H,(function(e,n){var t;if(null===(t=b(n.payload))||void 0===t||!t.base)for(var a=0,r=Object.entries(e);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0];o[1].expansionCode===n.payload&&delete e[l]}}))},K=function(e){return function(n,t){var a,r,o=(a=t(),r=e,a.expansion[r]);null==o||o.base||(o.enabled?n(H(e)):n(E(e)))}},D=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(n);if(null!=t&&"decks"in t)for(var a=0,r=Object.entries(t.decks);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0],i=o[1];null==e[l]?e[l]={image:""===i.image?void 0:i.image,expansionCode:n,enabled:!0}:console.warn('While enabling expansion "'.concat(n,'", deck with duplicate code "').concat(l,'" not added to state:'),i)}},A=x((function(e){return e.deck})),B=(0,m.P1)(A,(function(e){return e.filter((function(e){return e.enabled}))})),R=(0,p.oM)({name:"deck",initialState:k(D),reducers:{toggleDeck:y},extraReducers:function(e){return V(e,D)}}),T=R.actions.toggleDeck,z=R.reducer,q=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(n);if(null!=t&&"factions"in t)for(var a=0,r=Object.entries(t.factions);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0],i=o[1];null==e[l]?e[l]=(0,g.Z)((0,g.Z)({},i),{},{image:""===i.image?void 0:i.image,expansionCode:n,enabled:!0}):console.warn('While enabling expansion "'.concat(n,'", faction with duplicate code "').concat(l,'" not added to state:'),i)}},W=x((function(e){return e.faction})),$=function(e){return Object.keys(e.faction)},J=(0,m.P1)(W,(function(e){return e.filter((function(e){return e.enabled&&e.militant}))})),G=(0,m.P1)(W,(function(e){return e.filter((function(e){return e.enabled&&!e.militant}))})),X=(0,m.P1)(W,(function(e){return e.filter((function(e){return e.enabled&&e.isVagabond}))})),Q=(0,p.oM)({name:"faction",initialState:k(q),reducers:{toggleFaction:y},extraReducers:function(e){return V(e,q)}}),Y=Q.actions.toggleFaction,ee=Q.reducer,ne=t(982);!function(e){e[e.chooseExpansions=0]="chooseExpansions",e[e.chooseMap=1]="chooseMap",e[e.setUpMap=2]="setUpMap",e[e.setUpMapLandmark=3]="setUpMapLandmark",e[e.chooseDeck=4]="chooseDeck",e[e.setUpDeck=5]="setUpDeck",e[e.setUpBots=6]="setUpBots",e[e.seatPlayers=7]="seatPlayers",e[e.chooseLandmarks=8]="chooseLandmarks",e[e.setUpLandmark1=9]="setUpLandmark1",e[e.setUpLandmark2=10]="setUpLandmark2",e[e.chooseHirelings=11]="chooseHirelings",e[e.setUpHireling1=12]="setUpHireling1",e[e.setUpHireling2=13]="setUpHireling2",e[e.setUpHireling3=14]="setUpHireling3",e[e.postHirelingSetup=15]="postHirelingSetup",e[e.drawCards=16]="drawCards",e[e.chooseFactions=17]="chooseFactions",e[e.selectFaction=18]="selectFaction",e[e.setUpFaction=19]="setUpFaction",e[e.placeScoreMarkers=20]="placeScoreMarkers",e[e.chooseHand=21]="chooseHand",e[e.setupEnd=22]="setupEnd"}(F||(F={}));var te=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(n);if(null!=t&&"hirelings"in t)for(var a=0,r=Object.entries(t.hirelings);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0],i=o[1];null==e[l]?e[l]=(0,g.Z)((0,g.Z)({},i),{},{image:""===i.image?void 0:i.image,componentName:""===i.componentName?void 0:i.componentName,expansionCode:n,enabled:!0}):console.warn('While enabling expansion "'.concat(n,'", hireling with duplicate code "').concat(l,'" not added to state:'),i)}},ae=x((function(e){return e.hireling})),re=(0,m.P1)(ae,$,(function(e,n){return e.filter((function(e){return e.factions.some((function(e){return n.includes(e)}))}))})),oe=(0,m.P1)(re,(function(e){return e.filter((function(e){return e.enabled}))})),le=(0,m.P1)(ae,$,(function(e,n){return e.filter((function(e){return e.enabled&&e.factions.every((function(e){return!n.includes(e)}))}))})),ie=(0,p.oM)({name:"hireling",initialState:k(te),reducers:{toggleHireling:y},extraReducers:function(e){return V(e,te)}}),se=ie.actions.toggleHireling,ce=ie.reducer,de=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(n);if(null!=t&&"landmarks"in t)for(var a=0,r=Object.entries(t.landmarks);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0],i=o[1];null==e[l]?e[l]=(0,g.Z)((0,g.Z)({},i),{},{image:""===i.image?void 0:i.image,expansionCode:n,enabled:!0}):console.warn('While enabling expansion "'.concat(n,'", landmark with duplicate code "').concat(l,'" not added to state:'),i)}},ue=x((function(e){return e.landmark})),pe=(0,m.P1)(ue,(function(e){return e.filter((function(e){return e.enabled}))})),me=(0,p.oM)({name:"landmark",initialState:k(de),reducers:{toggleLandmark:y},extraReducers:function(e){return V(e,de)}}),ge=me.actions.toggleLandmark,fe=me.reducer,be=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(n);if(null!=t&&"maps"in t)for(var a=0,r=Object.entries(t.maps);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0],i=o[1];null==e[l]?e[l]=(0,g.Z)((0,g.Z)({},i),{},{landmark:""===i.landmark?void 0:i.landmark,image:""===i.image?void 0:i.image,expansionCode:n,enabled:!0}):console.warn('While enabling expansion "'.concat(n,'", map with duplicate code "').concat(l,'" not added to state:'),i)}},ve=x((function(e){return e.map})),he=(0,m.P1)(ve,(function(e){return e.filter((function(e){return e.enabled}))})),xe=(0,m.P1)(he,(function(e){return e.filter((function(e){return null!=e.landmark}))})),ke=(0,p.oM)({name:"map",initialState:k(be),reducers:{toggleMap:y},extraReducers:function(e){return V(e,be)}}),ye=ke.actions.toggleMap,we=ke.reducer,_e=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(n);if(null!=t&&"vagabonds"in t)for(var a=0,r=Object.entries(t.vagabonds);a<r.length;a++){var o=(0,u.Z)(r[a],2),l=o[0],i=o[1];null==e[l]?e[l]=(0,g.Z)((0,g.Z)({},i),{},{image:""===i.image?void 0:i.image,expansionCode:n,enabled:!0}):console.warn('While enabling expansion "'.concat(n,'", vagabond with duplicate code "').concat(l,'" not added to state:'),i)}},je=x((function(e){return e.vagabond})),Ce=(0,m.P1)(je,(function(e){return e.filter((function(e){return e.enabled}))})),Se=(0,p.oM)({name:"vagabond",initialState:k(_e),reducers:{toggleVagabond:y},extraReducers:function(e){return V(e,_e)}}),Oe=Se.actions.toggleVagabond,Pe=Se.reducer,Le=function(e){return e.setup},Fe=function(e){return null!=e.setup.map?(0,g.Z)((0,g.Z)({},e.map[e.setup.map]),{},{code:e.setup.map}):null},Ie=(0,p.oM)({name:"setup",initialState:{playerCount:4,fixedFirstPlayer:!1,playerOrder:[],errorMessage:null,map:null,useMapLandmark:!0,deck:null,landmarkCount:0,landmark1:null,landmark2:null,hireling1:null,hireling2:null,hireling3:null,excludedFactions:[]},reducers:{setPlayerCount:function(e,n){n.payload>=1?(e.playerCount=n.payload,e.errorMessage=null):console.warn("Invalid payload for setPlayerCount action: Payload must be a number above 0",n)},fixFirstPlayer:function(e,n){e.fixedFirstPlayer=n.payload,e.errorMessage=null},setFirstPlayer:function(e,n){if(n.payload>=1&&n.payload<=e.playerCount){e.playerOrder=[];for(var t=0;t<e.playerCount;t++){var a=n.payload+t;a>e.playerCount&&(a-=e.playerCount),e.playerOrder.push(a)}}else console.warn("Invalid payload for setFirstPlayer action: Payload must be a number between 1 and playerCount (".concat(e.playerCount,")"),n)},setErrorMessage:function(e,n){e.errorMessage=n.payload},enableMapLandmark:function(e,n){e.useMapLandmark=n.payload,e.errorMessage=null},setMap:{prepare:function(e){return{payload:e.code}},reducer:function(e,n){e.map=n.payload}},setDeck:{prepare:function(e){return{payload:e.code}},reducer:function(e,n){e.deck=n.payload}},setLandmarkCount:function(e,n){0===n.payload||1===n.payload||2===n.payload?(e.landmarkCount=n.payload,e.errorMessage=null):console.warn("Invalid payload for setLandmarkCount action: Payload must be a number between 0 and 2",n)},setLandmark1:{prepare:function(e){return{payload:e.code}},reducer:function(e,n){e.landmarkCount>=1?e.landmark1=n.payload:console.warn("Invalid setLandmark1 action: Cannot set landmark 1 when landmark count less than 1",n)}},setLandmark2:{prepare:function(e){return{payload:e.code}},reducer:function(e,n){e.landmarkCount>=2?e.landmark2=n.payload:console.warn("Invalid setLandmark2 action: Cannot set landmark 2 when landmark count less than 2",n)}},setHireling:{prepare:function(e,n,t){return{payload:{number:e,hireling:n.code,factions:n.factions,demoted:t}}},reducer:function(e,n){if(n.payload.number>=1&&n.payload.number<=3){var t,a={code:n.payload.hireling,demoted:n.payload.demoted};1===n.payload.number&&(e.hireling1=a),2===n.payload.number&&(e.hireling2=a),3===n.payload.number&&(e.hireling3=a),(t=e.excludedFactions).push.apply(t,(0,ne.Z)(n.payload.factions))}else console.warn('Invalid payload for setHireling action: Payload field "number" must be a number between 1 and 3',n)}},clearExcludedFactions:function(e){e.excludedFactions=[]}},extraReducers:function(e){e.addDefaultCase((function(e){e.errorMessage=null}))}}),Me=Ie.actions,Ne=Me.setPlayerCount,Ue=Me.fixFirstPlayer,Ee=Me.setFirstPlayer,He=Me.setErrorMessage,Ze=Me.enableMapLandmark,Ve=Me.setMap,Ke=Me.setDeck,De=Me.setLandmarkCount,Ae=Me.setLandmark1,Be=Me.setLandmark2,Re=Me.setHireling,Te=Me.clearExcludedFactions,ze=Ie.reducer,qe={pastSteps:[],currentStep:F.chooseExpansions,factionPool:[],lastFactionLocked:!1,currentPlayerIndex:0,currentFactionIndex:null,skippedSteps:Array(F.setupEnd+1).fill(!1),futureSteps:[]};qe.skippedSteps[F.setUpBots]=!0,qe.skippedSteps[F.setUpHireling1]=!0,qe.skippedSteps[F.setUpHireling2]=!0,qe.skippedSteps[F.setUpHireling3]=!0,qe.skippedSteps[F.postHirelingSetup]=!0;var We=function(e){return{step:e.currentStep,factionPool:(0,ne.Z)(e.factionPool),lastFactionLocked:e.lastFactionLocked,playerIndex:e.currentPlayerIndex,factionIndex:e.currentFactionIndex}},$e=function(e,n){e.currentStep=n.step,e.factionPool=n.factionPool,e.lastFactionLocked=n.lastFactionLocked,e.currentPlayerIndex=n.playerIndex,e.currentFactionIndex=n.factionIndex},Je=function(e){return e.flow},Ge=(0,m.P1)((function(e){return e.flow.factionPool}),(function(e){return e.faction}),(function(e){return e.vagabond}),(function(e,n,t){return e.map((function(e){return(0,g.Z)((0,g.Z)({},n[e.code]),{},{code:e.code,vagabond:e.vagabond?(0,g.Z)((0,g.Z)({},t[e.vagabond]),{},{code:e.vagabond}):void 0})}))})),Xe=(0,p.oM)({name:"flow",initialState:qe,reducers:{incrementStep:function(e,n){if(e.currentStep<F.setupEnd)if(e.pastSteps.push(We(e)),e.futureSteps=[],e.currentStep===F.setUpFaction&&e.currentPlayerIndex>0){var t;e.currentPlayerIndex--;var a=e.factionPool.splice(null!==(t=e.currentFactionIndex)&&void 0!==t?t:0,1),r=(0,u.Z)(a,1)[0];e.currentFactionIndex=null,e.lastFactionLocked&&r.militant&&(e.lastFactionLocked=!1),e.currentStep=F.selectFaction}else{var o=!1;do{e.currentStep++,o=e.skippedSteps[e.currentStep]}while(o&&e.currentStep<F.setupEnd)}else console.warn("Invalid incrementStep action: Current step must be smaller than ".concat(F.setupEnd),n)},undoStep:function(e,n){var t=e.pastSteps.pop();null!=t?(e.futureSteps.unshift(We(e)),$e(e,t)):console.warn("Invalid undoStep action: pastSteps array returned empty value (".concat(t,")"),n)},redoStep:function(e,n){var t=e.futureSteps.shift();null!=t?(e.pastSteps.push(We(e)),$e(e,t)):console.warn("Invalid redoStep action: futureSteps array returned empty value (".concat(t,")"),n)},skipSteps:{prepare:function(e,n){return{payload:{steps:"number"===typeof e?[e]:e,skip:n}}},reducer:function(e,n){n.payload.steps.forEach((function(t){e.skippedSteps[t]=n.payload.skip})),e.futureSteps=[]}},clearFactionPool:function(e){e.factionPool=[],e.lastFactionLocked=!1,e.currentFactionIndex=null,e.futureSteps=[]},addToFactionPool:{prepare:function(e,n){return{payload:{code:e.code,militant:e.militant,vagabond:e.isVagabond?_(n).code:void 0}}},reducer:function(e,n){e.factionPool.push(n.payload),e.lastFactionLocked=!n.payload.militant,e.futureSteps=[]}},setCurrentPlayerIndex:function(e,n){n.payload>=0?(e.currentPlayerIndex=n.payload,e.futureSteps=[]):console.warn("Invalid payload for setCurrentPlayerIndex action: Payload must be a number larger than or equal to 0",n)},setCurrentFactionIndex:function(e,n){n.payload>=0&&n.payload<e.factionPool.length?(e.currentFactionIndex=n.payload,e.futureSteps=[]):console.warn("Invalid payload for setCurrentFactionIndex action: Payload must be a number larger than or equal to 0 but smaller than the faction pool length (".concat(e.factionPool.length,")"),n)},resetFlow:function(e){e.pastSteps=[],e.currentStep=F.chooseExpansions,e.futureSteps=[]}},extraReducers:function(e){e.addCase(He,(function(){})).addDefaultCase((function(e){e.futureSteps=[]}))}}),Qe=Xe.actions,Ye=Qe.incrementStep,en=Qe.undoStep,nn=Qe.redoStep,tn=Qe.skipSteps,an=Qe.clearFactionPool,rn=Qe.addToFactionPool,on=Qe.setCurrentPlayerIndex,ln=Qe.setCurrentFactionIndex,sn=Qe.resetFlow,cn=Xe.reducer,dn=t(942),un=t(694),pn=t.n(un),mn=t(791),gn=t(483),fn=function(){return(0,a.I0)()},bn=a.v9,vn="step_step__jmF6G",hn="step_inactive__+Mdoy",xn="step_title__d40nQ",kn="step_subtitle__3pYFe",yn={stepActive:!1},wn=(0,mn.createContext)(yn),_n=wn.Provider,jn=function(e){var n,t=e.step,a=e.renderTitle,r=e.renderSubtitle,o=e.subtitleOptions,l=e.textKey,i=e.textCount,d=e.textOptions,u=e.textBelowChildren,p=e.children,m=bn(Je),g=m.currentStep,f=m.skippedSteps,b=(0,s.$)(),v=b.t,h=b.i18n,x=(0,mn.useRef)(null),k=g===t;(0,mn.useEffect)((function(){var e;k&&(null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}));var y=(null!==a&&void 0!==a?a:h.exists("setupStep.".concat(F[t],".title")))?v("setupStep.".concat(F[t],".title")):null,w=(null!==(n=null!==r&&void 0!==r?r:o)&&void 0!==n?n:h.exists("setupStep.".concat(F[t],".subtitle")))?v("setupStep.".concat(F[t],".subtitle"),o):null;if((0,mn.useEffect)((function(){k&&(document.title="".concat((null!==y&&void 0!==y?y:w)?"".concat(null!==y&&void 0!==y?y:w," - "):"").concat(v("label.pageTitle")))}),[k,y,w,v]),g>=t&&!f[t]){var _=(0,c.jsx)(gn.c,{i18nKey:null!==l&&void 0!==l?l:"setupStep.".concat(F[t],".body"),count:i,tOptions:d});return(0,c.jsxs)("section",{className:pn()(vn,(0,dn.Z)({},hn,!k)),ref:x,children:[null!=y?(0,c.jsx)("h1",{className:xn,children:y}):null,null!=w?(0,c.jsxs)("h2",{className:kn,children:[w,"."]}):null,u?null:_,p&&(0,c.jsx)(_n,{value:{stepActive:k},children:p}),u?_:null]})}return null};jn.defaultProps={textBelowChildren:!1};var Cn,Sn=jn,On="checkbox_container__p8WwE",Pn="checkbox_checkbox__iCqtL",Ln="checkbox_label__JoQ4b",Fn="checkbox_inactive__ceSyz",In=function(e){var n=e.id,t=e.defaultValue,a=e.onChange,r=bn(Le).errorMessage,o=(0,mn.useContext)(wn).stepActive;return t||o?(0,c.jsxs)("div",{className:pn()(On,(0,dn.Z)({},Fn,!o)),children:[(0,c.jsx)("input",{id:n,type:"checkbox",className:Pn,defaultChecked:null!==t&&void 0!==t&&t,disabled:!o,onChange:function(e){return a(e.target.checked)},"aria-invalid":!(!o||!r)||void 0,"aria-errormessage":o&&r?"appError":void 0}),(0,c.jsx)("label",{htmlFor:n,className:Ln,children:(0,c.jsx)(gn.c,{i18nKey:"label.".concat(n)})})]}):null},Mn="componentToggle_carousel__5k7Pu",Nn="componentToggle_inactive__eKCim",Un="componentToggle_component__m66Eq",En="componentToggle_enabled__ejvB7",Hn="componentToggle_locked__xGt+U",Zn="componentToggle_image__0dsXK",Vn="componentToggle_label__uaA-k",Kn=t.p+"static/media/componentDefault.5a01fc0ce3794af43600.png",Dn=function(e){var n=e.selector,t=e.toggleComponent,a=e.getLabelKey,r=e.getLockedKey,o=e.unsorted,l=bn(n),i=bn(Le).errorMessage,d=fn(),u=(0,mn.useContext)(wn).stepActive,p=(0,s.$)(),m=p.t,f=p.i18n,b=(0,mn.useMemo)((function(){var e=l.map((function(e){return(0,g.Z)((0,g.Z)({},e),{},{label:m(a(e))})}));return o||e.sort((function(e,n){return e.label.localeCompare(n.label,f.language)})),e}),[l,m,a,o,f.language]);return(0,c.jsx)("div",{className:pn()(Mn,(0,dn.Z)({},Nn,!u)),children:b.map((function(e){if(e.enabled||u){var n,a=r?r(e):null,o=null!=a;return(0,c.jsxs)("button",{className:pn()(Un,(n={},(0,dn.Z)(n,En,u&&e.enabled),(0,dn.Z)(n,Hn,u&&o),n)),onClick:function(){return d(o?He(a):t(e.code))},disabled:!u,title:u&&o?m(a):void 0,tabIndex:u&&o?-1:void 0,role:"switch","aria-checked":e.enabled,"aria-disabled":u?o:void 0,"aria-label":u?e.label:void 0,"aria-invalid":!(!u||!i)||void 0,"aria-errormessage":u&&i?"appError":void 0,children:[(0,c.jsx)("img",{className:Zn,src:e.image?"".concat("","/images/").concat(e.image):Kn,alt:"","aria-hidden":"true"}),(0,c.jsx)("div",{className:Vn,children:(0,c.jsx)("span",{children:e.label})})]},e.code)}return null}))})},An="factionSelect_carousel__qbu2u",Bn="factionSelect_faction__IK8eE",Rn="factionSelect_selected__LdzyN",Tn="factionSelect_locked__YnETl",zn="factionSelect_image__0-2dZ",qn="factionSelect_icon__9Jeka",Wn="factionSelect_title__b3-tN",$n="factionSelect_militant__w7wGf",Jn="factionSelect_label__FfUCZ",Gn=["title","titleId"];function Xn(){return Xn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Xn.apply(this,arguments)}function Qn(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function Yn(e,n){var t=e.title,a=e.titleId,r=Qn(e,Gn);return mn.createElement("svg",Xn({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57 57",style:{enableBackground:"new 0 0 57 57"},xmlSpace:"preserve",ref:n,"aria-labelledby":a},r),t?mn.createElement("title",{id:a},t):null,Cn||(Cn=mn.createElement("path",{fill:"currentColor",d:"M57,0h-8.837L18.171,29.992l-4.076-4.076l-1.345-4.034c-0.22-0.663-0.857-1.065-1.55-0.98 c-0.693,0.085-1.214,0.63-1.268,1.327l-0.572,7.438l5.982,5.982L4.992,46H2.274C1.02,46,0,47.02,0,48.274v6.452 C0,55.98,1.02,57,2.274,57h6.452C9.98,57,11,55.98,11,54.726v-3.421l10-10l6.021,6.021l6.866-1.145 c0.685-0.113,1.182-0.677,1.21-1.37c0.028-0.693-0.422-1.295-1.096-1.464l-3.297-0.824l-4.043-4.043L57,8.489V0z M9,54.726 C9,54.877,8.877,55,8.726,55H2.274C2.123,55,2,54.877,2,54.726v-6.452C2,48.123,2.123,48,2.274,48h0.718h5.734 C8.877,48,9,48.123,9,48.274v5.031V54.726z M11,48.477v-0.203C11,47.02,9.98,46,8.726,46H7.82l8.938-8.938l1.417,1.417l1.411,1.411 L11,48.477z M30.942,44.645l-3.235,0.54l-5.293-5.293l0,0l-2.833-2.833l-8.155-8.155l0.292-3.796l0.63,1.89l4.41,4.41l0,0 l4.225,4.225l8.699,8.699L30.942,44.645z M25.247,37.066l-2.822-2.822l-2.839-2.839L48.991,2h4.243L23.829,31.406 c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293s0.512-0.098,0.707-0.293L55,3.062v4.592L25.247,37.066z"})))}var et=mn.forwardRef(Yn),nt=(t.p,function(){var e=bn(Je),n=e.currentFactionIndex,t=e.lastFactionLocked,a=bn(Ge),r=bn(Le).errorMessage,o=fn(),l=(0,mn.useContext)(wn).stepActive,i=(0,s.$)().t,d=function(e){var r,l,i=null!==n&&void 0!==n?n:0,s=a.length-(t?2:1);("ArrowRight"===e.key||"ArrowDown"===e.key?(r=i+1)>s&&(r=0):"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(r=i-1)<0&&(r=s),null!=r)&&(e.preventDefault(),o(ln(r)),null===(l=e.currentTarget.parentNode)||void 0===l||l.children[r].focus())},u=a.length-1;return(0,c.jsx)("div",{className:An,role:"radiogroup","aria-label":i("setupStep.selectFaction.subtitle"),"aria-required":"true","aria-invalid":!(!l||!r)||void 0,"aria-errormessage":l&&r?"appError":void 0,"aria-disabled":!l,children:a.map((function(e,a){var r,s=e.vagabond?"".concat(i("vagabond.".concat(e.vagabond.code,".name"))," (").concat(i("faction.".concat(e.key,".name")),")"):i("faction.".concat(e.key,".name")),p=e.vagabond?e.vagabond.image:e.image;return(0,c.jsxs)("button",{className:pn()(Bn,(r={},(0,dn.Z)(r,$n,e.militant),(0,dn.Z)(r,Rn,a===n),(0,dn.Z)(r,Tn,t&&a===u),r)),onClick:function(){a!==n&&o(!t||a<u?ln(a):He("error.lockedFaction"))},disabled:!l,title:l&&t&&a===u?i("error.lockedFaction"):void 0,role:"radio","aria-checked":a===n,"aria-disabled":l?t&&a===u:void 0,"aria-label":l?"".concat(s).concat(e.militant?" ".concat(i("label.militant")):""):void 0,tabIndex:l?a===(null!==n&&void 0!==n?n:0)?0:-1:void 0,onKeyDown:d,children:[(0,c.jsx)("img",{className:zn,src:p?"".concat("","/images/").concat(p):Kn,alt:"","aria-hidden":"true"}),(0,c.jsx)("div",{className:Wn,children:(0,c.jsxs)("span",{className:Jn,children:[e.militant?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(et,{className:qn,title:i("label.militant")})," "]}):null,s]})})]},e.code)}))})}),tt="numberSelector_container__hUJC+",at="numberSelector_label__gfV2z",rt="numberSelector_button__xqW1x",ot="numberSelector_input__AA-8i",lt="numberSelector_value__NDRMv",it=function(e){var n=e.id,t=e.value,a=e.minVal,r=e.maxVal,o=e.onChange,l=bn(Le).errorMessage,i=(0,mn.useContext)(wn).stepActive,s=function(e){var n=t+e;n>=a&&n<=r&&o(n)};return(0,c.jsxs)("div",{className:tt,children:[(0,c.jsx)("label",{htmlFor:n,className:at,children:(0,c.jsx)(gn.c,{i18nKey:"label.".concat(n)})}),i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{className:rt,onClick:function(){return s(-1)},children:"-"}),(0,c.jsx)("input",{id:n,inputMode:"numeric",className:ot,value:t,size:2,onChange:function(e){var n=e.target.value,t=Number(n);if(!isNaN(t))for(var l=2;l>0;l--)if((t=Number(n.substring(n.length-l)))<=r){t>=a&&o(t);break}},"aria-invalid":!(!i||!l)||void 0,"aria-errormessage":i&&l?"appError":void 0}),(0,c.jsx)("button",{className:rt,onClick:function(){return s(1)},children:"+"})]}):(0,c.jsx)("span",{id:n,className:lt,children:t})]})},st="radiogroup_container__16Ji9",ct="radiogroup_option__YGe3u",dt="radiogroup_radio__+1jdM",ut="radiogroup_label__XK2wi",pt="radiogroup_inactive__o-0P1",mt=function(e){var n=e.id,t=e.defaultValue,a=e.onChange,r=bn(Le).errorMessage,o=(0,mn.useContext)(wn).stepActive;return(0,c.jsxs)("fieldset",{name:n,className:pn()(st,(0,dn.Z)({},pt,!o)),disabled:!o,"aria-required":"true","aria-invalid":!(!o||!r)||void 0,"aria-errormessage":o&&r?"appError":void 0,children:[!t||o?(0,c.jsxs)("div",{className:ct,children:[(0,c.jsx)("input",{name:n,id:"".concat(n,"False"),type:"radio",className:dt,checked:!t,onChange:function(){return a(!1)}}),(0,c.jsx)("label",{htmlFor:"".concat(n,"False"),className:ut,children:(0,c.jsx)(gn.c,{i18nKey:"label.".concat(n,".false")})})]}):null,t||o?(0,c.jsxs)("div",{className:ct,children:[(0,c.jsx)("input",{name:n,id:"".concat(n,"True"),type:"radio",className:dt,checked:t,onChange:function(){return a(!0)}}),(0,c.jsx)("label",{htmlFor:"".concat(n,"True"),className:ut,children:(0,c.jsx)(gn.c,{i18nKey:"label.".concat(n,".true")})})]}):null]})};mt.defaultProps={defaultValue:!1};var gt,ft=mt,bt="stepList_container__IfzTc",vt=function(){var e,n=bn(Le),t=n.playerCount,a=n.fixedFirstPlayer,r=n.useMapLandmark,o=n.deck,l=n.landmarkCount,i=n.landmark1,d=n.landmark2,u=n.hireling1,p=n.hireling2,m=n.hireling3,g=n.excludedFactions,f=n.playerOrder,b=bn(Fe),v=bn(Je),h=v.currentPlayerIndex,x=v.currentFactionIndex,k=bn(Ge),y=bn(Je).skippedSteps,w=bn(xe),_=bn($),j=bn(X),C=fn(),S=function(){var e=bn(Le).playerOrder;return function(n){if(e.length>0){var t=-n;do{t+=e.length}while(t<0);return e[t]}return 0}}(),O=(0,s.$)().t;return(0,c.jsxs)("main",{className:bt,children:[(0,c.jsxs)(Sn,{step:F.chooseExpansions,children:[(0,c.jsx)(Dn,{selector:M,toggleComponent:K,getLabelKey:function(e){return"expansion.".concat(e.code)},getLockedKey:function(e){return e.base?"error.baseExpansionRequired":null},unsorted:!0}),(0,c.jsx)(In,{id:"includeBotStep",defaultValue:!y[F.setUpBots],onChange:function(e){return C(tn(F.setUpBots,!e))}})]}),(0,c.jsxs)(Sn,{step:F.chooseMap,children:[(0,c.jsx)(Dn,{selector:ve,toggleComponent:ye,getLabelKey:function(e){return"map.".concat(e.code,".name")}}),w.length>0?(0,c.jsx)(In,{id:"useMapLandmark",defaultValue:r,onChange:function(e){return C(Ze(e))}}):null]}),(0,c.jsx)(Sn,{step:F.setUpMap,subtitleOptions:{map:b&&O("map.".concat(null===b||void 0===b?void 0:b.code,".name"))},textKey:"map.".concat(null===b||void 0===b?void 0:b.code,".setup")}),(0,c.jsx)(Sn,{step:F.setUpMapLandmark,subtitleOptions:{landmark:(null===b||void 0===b?void 0:b.landmark)&&O("landmark.".concat(null===b||void 0===b?void 0:b.landmark,".name"))},textKey:"map.".concat(null===b||void 0===b?void 0:b.code,".landmarkSetup")}),(0,c.jsx)(Sn,{step:F.chooseDeck,children:(0,c.jsx)(Dn,{selector:A,toggleComponent:T,getLabelKey:function(e){return"deck.".concat(e.code)}})}),(0,c.jsx)(Sn,{step:F.setUpDeck,renderTitle:y[F.chooseDeck],renderSubtitle:!y[F.chooseDeck],subtitleOptions:{deck:o&&O("deck.".concat(o))},textOptions:{deck:o&&O("deck.".concat(o))}}),(0,c.jsx)(Sn,{step:F.setUpBots}),(0,c.jsxs)(Sn,{step:F.seatPlayers,children:[(0,c.jsx)(it,{id:"playerCount",value:t,minVal:y[F.setUpBots]?2:1,maxVal:_.length-1,onChange:function(e){return C(Ne(e))}}),(0,c.jsx)(ft,{id:"fixedFirstPlayer",defaultValue:a,onChange:function(e){return C(Ue(e))}})]}),(0,c.jsxs)(Sn,{step:F.chooseLandmarks,children:[(0,c.jsx)(it,{id:"landmarkCount",value:l,minVal:0,maxVal:2,onChange:function(e){return C(De(e))}}),l>0?(0,c.jsx)(Dn,{selector:ue,toggleComponent:ge,getLabelKey:function(e){return"landmark.".concat(e.code,".name")},getLockedKey:function(e){return e.minPlayers>t?"error.landmarkNotEnoughPlayers":r&&e.code===(null===b||void 0===b?void 0:b.landmark)?"error.mapLandmarkUsed":null}}):null]}),(0,c.jsx)(Sn,{step:F.setUpLandmark1,subtitleOptions:{landmark:i&&O("landmark.".concat(i,".name"))},textKey:"landmark.".concat(i,".setup"),textCount:S(1)}),(0,c.jsx)(Sn,{step:F.setUpLandmark2,subtitleOptions:{landmark:d&&O("landmark.".concat(d,".name"))},textKey:"landmark.".concat(d,".setup"),textCount:S(2)}),(0,c.jsxs)(Sn,{step:F.chooseHirelings,children:[(0,c.jsx)(In,{id:"includeHirelings",defaultValue:!y[F.setUpHireling1],onChange:function(e){return C(tn([F.setUpHireling1,F.setUpHireling2,F.setUpHireling3,F.postHirelingSetup],!e))}}),y[F.setUpHireling1]?null:(0,c.jsx)(Dn,{selector:ae,toggleComponent:se,getLabelKey:function(e){return"hireling.".concat(e.code,".name")},getLockedKey:function(e){return t>=_.length-1&&e.factions.some((function(e){return _.includes(e)}))?"error.factionHirelingExcluded":null}})]}),(0,c.jsx)(Sn,{step:F.setUpHireling1,subtitleOptions:{hireling:u&&O("hireling.".concat(u.code,".name"),{context:u.demoted?"demoted":void 0})},textKey:"hireling.".concat(null===u||void 0===u?void 0:u.code,".setup"),textCount:S(1),textOptions:{context:null!==u&&void 0!==u&&u.demoted?"demoted":void 0}}),(0,c.jsx)(Sn,{step:F.setUpHireling2,subtitleOptions:{hireling:p&&O("hireling.".concat(p.code,".name"),{context:p.demoted?"demoted":void 0})},textKey:"hireling.".concat(null===p||void 0===p?void 0:p.code,".setup"),textCount:S(2),textOptions:{context:null!==p&&void 0!==p&&p.demoted?"demoted":void 0}}),(0,c.jsx)(Sn,{step:F.setUpHireling3,subtitleOptions:{hireling:m&&O("hireling.".concat(m.code,".name"),{context:m.demoted?"demoted":void 0})},textKey:"hireling.".concat(null===m||void 0===m?void 0:m.code,".setup"),textCount:S(3),textOptions:{context:null!==m&&void 0!==m&&m.demoted?"demoted":void 0}}),(0,c.jsx)(Sn,{step:F.postHirelingSetup}),(0,c.jsx)(Sn,{step:F.drawCards}),(0,c.jsxs)(Sn,{step:F.chooseFactions,children:[(0,c.jsx)(Dn,{selector:W,toggleComponent:Y,getLabelKey:function(e){return"faction.".concat(e.key,".name")},getLockedKey:function(e){return t<3&&!e.militant&&y[F.setUpHireling1]&&y[F.setUpBots]?"error.tooFewPlayerInsurgent":g.includes(e.code)?"error.hirelingSelected":null}}),j.length>0?(0,c.jsxs)(c.Fragment,{children:[O("label.selectVagabonds"),(0,c.jsx)(Dn,{selector:je,toggleComponent:Oe,getLabelKey:function(e){return"vagabond.".concat(e.code,".name")}})]}):null]}),(0,c.jsx)(Sn,{step:F.selectFaction,textCount:f[h],children:(0,c.jsx)(nt,{})}),(0,c.jsx)(Sn,{step:F.setUpFaction,subtitleOptions:{faction:null!=x?O("faction.".concat(k[x].key,".name")):void 0},textKey:null!=x?"faction.".concat(k[x].key,".setup"):void 0,textOptions:{vagabond:null!=x&&k[x].vagabond?O("vagabond.".concat(null===(e=k[x].vagabond)||void 0===e?void 0:e.code,".name")):void 0}}),(0,c.jsx)(Sn,{step:F.placeScoreMarkers}),(0,c.jsx)(Sn,{step:F.chooseHand}),(0,c.jsx)(Sn,{step:F.setupEnd,textCount:f[0]})]})},ht=(0,p.xC)({reducer:{deck:z,expansion:Z,faction:ee,flow:cn,hireling:ce,landmark:fe,map:we,setup:ze,vagabond:Pe}}),xt="toast_anchor__sElDS",kt="toast_hidden__kjNra",yt="toast_container__Ov1KV",wt="toast_message__qABUW",_t="toast_close__ECTnm",jt=["title","titleId"];function Ct(){return Ct=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ct.apply(this,arguments)}function St(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function Ot(e,n){var t=e.title,a=e.titleId,r=St(e,jt);return mn.createElement("svg",Ct({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",ref:n,"aria-labelledby":a},r),t?mn.createElement("title",{id:a},t):null,gt||(gt=mn.createElement("path",{fill:"currentColor",d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"})))}var Pt,Lt=mn.forwardRef(Ot),Ft=(t.p,function(){var e=bn(Le).errorMessage,n=(0,mn.useState)(e),t=(0,u.Z)(n,2),a=t[0],r=t[1],o=fn(),l=(0,s.$)().t;return null!=e&&e!==a&&r(e),(0,c.jsx)("div",{className:pn()(xt,(0,dn.Z)({},kt,!e)),"aria-hidden":!e,"aria-live":"assertive",children:(0,c.jsxs)("div",{className:yt,children:[(0,c.jsxs)("span",{id:"appError",className:wt,children:[a&&l(a),"."]}),(0,c.jsx)("button",{className:_t,title:l("label.closeMessage"),onClick:function(){return o(He(null))},disabled:!e,children:(0,c.jsx)(Lt,{})})]})})}),It="toolbar_container__Rt5ax",Mt="toolbar_toolbar__zw8gT",Nt="toolbar_button__nKmH8",Ut="toolbar_disabled__ZpbtM",Et="toolbar_left__SAzWH",Ht="toolbar_right__W8Aod",Zt="toolbar_icon__wQJCk",Vt="toolbar_label__q4iU3",Kt=["title","titleId"];function Dt(){return Dt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Dt.apply(this,arguments)}function At(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function Bt(e,n){var t=e.title,a=e.titleId,r=At(e,Kt);return mn.createElement("svg",Dt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":a},r),t?mn.createElement("title",{id:a},t):null,Pt||(Pt=mn.createElement("path",{fill:"currentColor",d:"M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.86 0-95.19-15.58-134.2-44.86c-14.14-10.59-17-30.66-6.391-44.81c10.61-14.09 30.69-16.97 44.8-6.375c27.84 20.91 61 31.94 95.89 31.94C344.3 415.8 416 344.1 416 256s-71.67-159.8-159.8-159.8C205.9 96.22 158.6 120.3 128.6 160H192c17.67 0 32 14.31 32 32S209.7 224 192 224H48c-17.67 0-32-14.31-32-32V48c0-17.69 14.33-32 32-32s32 14.31 32 32v70.23C122.1 64.58 186.1 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"})))}var Rt,Tt=mn.forwardRef(Bt),zt=(t.p,["title","titleId"]);function qt(){return qt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qt.apply(this,arguments)}function Wt(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function $t(e,n){var t=e.title,a=e.titleId,r=Wt(e,zt);return mn.createElement("svg",qt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":a},r),t?mn.createElement("title",{id:a},t):null,Rt||(Rt=mn.createElement("path",{fill:"currentColor",d:"M496 48V192c0 17.69-14.31 32-32 32H320c-17.69 0-32-14.31-32-32s14.31-32 32-32h63.39c-29.97-39.7-77.25-63.78-127.6-63.78C167.7 96.22 96 167.9 96 256s71.69 159.8 159.8 159.8c34.88 0 68.03-11.03 95.88-31.94c14.22-10.53 34.22-7.75 44.81 6.375c10.59 14.16 7.75 34.22-6.375 44.81c-39.03 29.28-85.36 44.86-134.2 44.86C132.5 479.9 32 379.4 32 256s100.5-223.9 223.9-223.9c69.15 0 134 32.47 176.1 86.12V48c0-17.69 14.31-32 32-32S496 30.31 496 48z"})))}var Jt,Gt=mn.forwardRef($t),Xt=(t.p,["title","titleId"]);function Qt(){return Qt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qt.apply(this,arguments)}function Yt(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function ea(e,n){var t=e.title,a=e.titleId,r=Yt(e,Xt);return mn.createElement("svg",Qt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:n,"aria-labelledby":a},r),t?mn.createElement("title",{id:a},t):null,Jt||(Jt=mn.createElement("path",{fill:"currentColor",d:"M77.25 256l137.4-137.4c12.5-12.5 12.5-32.75 0-45.25s-32.75-12.5-45.25 0l-160 160c-12.5 12.5-12.5 32.75 0 45.25l160 160C175.6 444.9 183.8 448 192 448s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25L77.25 256zM269.3 256l137.4-137.4c12.5-12.5 12.5-32.75 0-45.25s-32.75-12.5-45.25 0l-160 160c-12.5 12.5-12.5 32.75 0 45.25l160 160C367.6 444.9 375.8 448 384 448s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25L269.3 256z"})))}var na,ta=mn.forwardRef(ea),aa=(t.p,["title","titleId"]);function ra(){return ra=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ra.apply(this,arguments)}function oa(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function la(e,n){var t=e.title,a=e.titleId,r=oa(e,aa);return mn.createElement("svg",ra({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",ref:n,"aria-labelledby":a},r),t?mn.createElement("title",{id:a},t):null,na||(na=mn.createElement("path",{fill:"currentColor",d:"M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"})))}var ia=mn.forwardRef(la),sa=(t.p,function(){var e=(0,s.$)().t,n=fn(),t=bn(Je),a=t.pastSteps,r=t.futureSteps,o=t.currentStep,l=(0,mn.useState)(0),i=(0,u.Z)(l,2),d=i[0],p=i[1],m=[(0,mn.useRef)(null),(0,mn.useRef)(null),(0,mn.useRef)(null)],g=function(e,n){var t,a,r=m.length-1;("ArrowRight"===e.key||"ArrowDown"===e.key?t=n+1>r?0:n+1:"ArrowLeft"===e.key||"ArrowUp"===e.key?t=n-1<0?r:n-1:"Home"===e.key?t=0:"End"===e.key&&(t=r),null!=t)&&(e.preventDefault(),p(t),null===(a=m[t].current)||void 0===a||a.focus())},f=0===a.length,b=0===r.length,v=o>=F.setupEnd;return(0,c.jsx)("footer",{className:It,children:(0,c.jsxs)("div",{className:Mt,role:"toolbar",children:[(0,c.jsx)("button",{className:pn()(Nt,Et,(0,dn.Z)({},Ut,f)),ref:m[0],onClick:f?void 0:function(){n(en()),p(0)},title:e("label.undo"),"aria-disabled":f,tabIndex:0===d?0:-1,onKeyDown:function(e){return g(e,0)},children:(0,c.jsx)(Tt,{className:Zt})}),(0,c.jsx)("button",{className:pn()(Nt,Et,(0,dn.Z)({},Ut,b)),ref:m[1],onClick:b?void 0:function(){n(nn()),p(1)},title:e("label.redo"),"aria-disabled":b,tabIndex:1===d?0:-1,onKeyDown:function(e){return g(e,1)},children:(0,c.jsx)(Gt,{className:Zt})}),(0,c.jsxs)("button",{className:"".concat(Nt," ").concat(Ht),ref:m[2],onClick:function(){n(v?sn():function(e,n){var t=Le(n()),a=Je(n()),r=!0,o=null;switch(a.currentStep){case F.chooseExpansions:var l=A(n());if(1===l.length?(e(Ke(l[0])),e(tn(F.chooseDeck,!0))):e(tn(F.chooseDeck,!1)),t.playerCount<2&&a.skippedSteps[F.setUpBots])e(Ne(2));else{var i=$(n()).length-1;t.playerCount>i&&e(Ne(i))}e(tn([F.chooseLandmarks,F.setUpLandmark1,F.setUpLandmark2],0===ue(n()).length)),0===ae(n()).length?(e(tn([F.chooseHirelings,F.setUpHireling1,F.setUpHireling2,F.setUpHireling3,F.postHirelingSetup],!0)),t.excludedFactions.length>0&&e(Te())):e(tn(F.chooseHirelings,!1));break;case F.chooseMap:var s=(0,ne.Z)(he(n()));if(s.length>0){var c=_(s);e(Ve(c)),e(tn(F.setUpMapLandmark,!t.useMapLandmark||!c.landmark))}else r=!1,o="error.noMap";break;case F.chooseDeck:var d=(0,ne.Z)(B(n()));d.length>0?e(Ke(_(d))):(r=!1,o="error.noDeck");break;case F.seatPlayers:var u;u=t.fixedFirstPlayer?1:Math.floor(Math.random()*t.playerCount)+1,e(Ee(u));var p=Fe(n());e(w(ue,(function(e){return e.minPlayers<=t.playerCount&&(!t.useMapLandmark||(null===p||void 0===p?void 0:p.landmark)!==e.code)}),ge)),e(w(re,t.playerCount<$(n()).length-1,se)),e(w(W,(function(e){return t.playerCount>2||e.militant||!a.skippedSteps[F.setUpHireling1]||!a.skippedSteps[F.setUpBots]}),Y));break;case F.chooseLandmarks:var m=(0,ne.Z)(pe(n()));m.length>=t.landmarkCount?t.landmarkCount>=1?(e(Ae(_(m))),t.landmarkCount>=2?(e(Be(_(m))),e(tn([F.setUpLandmark1,F.setUpLandmark2],!1))):(e(tn(F.setUpLandmark1,!1)),e(tn(F.setUpLandmark2,!0)))):e(tn([F.setUpLandmark1,F.setUpLandmark2],!0)):(r=!1,o=0===m.length?"error.noLandmark":"error.tooFewLandmark");break;case F.chooseHirelings:var g=!1;if(t.excludedFactions.length>0&&(e(Te()),g=!0),a.skippedSteps[F.setUpHireling1]||function(){var a=(0,ne.Z)(le(n())),l=(0,ne.Z)(oe(n())),i=$(n()),s=i.length-(t.playerCount+1);if(s<=3)for(;s>0&&l.length>0;){var c=_(l),d=c.factions.length>1?c.factions.filter((function(e){return i.includes(e)})).length:1;s-d>=0&&(a.push(c),s-=d)}else a=a.concat(l);if(a.length>=3){g=!0;for(var u=1;u<=3;u++)e(Re(u,_(a),t.playerCount+u>5))}else r=!1,o="error.tooFewHireling"}(),g){var f=Le(n()).excludedFactions;e(w(W,(function(e){return!f.includes(e.code)}),Y))}break;case F.chooseFactions:a.factionPool.length>0&&e(an());var b=(0,ne.Z)(J(n())),v=(0,ne.Z)(Ce(n())),h=G(n()),x=X(n()).length;if(b.length>0&&v.length>=x&&b.length+h.length>=t.playerCount+1){e(rn(_(b),v)),b=b.concat(h);for(var k=0;k<t.playerCount;k++)e(rn(_(b),v));e(on(t.playerCount-1))}else r=!1,o=0===b.length?"error.noMilitantFaction":v.length<x?"error.tooFewVagabond":"error.tooFewFaction";break;case F.selectFaction:null==a.currentFactionIndex&&(r=!1,o="error.noFaction");break;case F.setupEnd:r=!1}t.errorMessage!==o&&e(He(o)),r&&e(Ye())}),p(2)},tabIndex:2===d?0:-1,onKeyDown:function(e){return g(e,2)},children:[v?(0,c.jsx)(ta,{className:Zt}):null,(0,c.jsx)("span",{className:Vt,children:e(v?"label.restartSetup":"label.nextStep")}),v?null:(0,c.jsx)(ia,{className:Zt})]})]})})}),ca=function(){return(0,c.jsxs)(a.zt,{store:ht,children:[(0,c.jsx)(d,{}),(0,c.jsx)(vt,{}),(0,c.jsx)(sa,{}),(0,c.jsx)(Ft,{})]})},da=ca}}]);
//# sourceMappingURL=163.adf2b445.chunk.js.map